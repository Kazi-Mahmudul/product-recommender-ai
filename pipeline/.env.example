# Data Pipeline Environment Configuration
# Copy this file to .env and update the values according to your environment

# Environment
ENVIRONMENT=development
DEBUG=true

# Database Configuration (using existing Supabase database)
DATABASE_URL=postgresql://postgres.lvxqroeldpaqjbmsjjqr:Mahmudulepickdb162@aws-0-ap-southeast-1.pooler.supabase.com:6543/postgres
LOCAL_DATABASE_URL=postgresql://product_user1:secure_password@localhost:5432/product_recommender
REDIS_URL=redis://localhost:6379/0

# API Configuration
API_V1_STR=/api/v1
PROJECT_NAME=Data Pipeline API
BACKEND_CORS_ORIGINS=["http://localhost:3000","http://localhost:8000","http://localhost:8080","https://pickbd.vercel.app"]
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000","http://localhost:8080","https://pickbd.vercel.app"]

# Security (using existing keys)
SECRET_KEY=nV4YqR7z2KEtGgBdSpxfW5MCUyZ8jNo6rLaO1XcQHbvT9ImPFe
ACCESS_TOKEN_EXPIRE_MINUTES=30
PIPELINE_API_TOKEN=pipeline-secure-token-change-in-production
ALERTING_API_TOKEN=alerting-secure-token-change-in-production

# External APIs (using existing)
GOOGLE_API_KEY=AIzaSyB8jkbWPynTNc7fvqFUJyWeLxQigF27OKw
GEMINI_SERVICE_URL=https://gemini-api-wm3b.onrender.com
REACT_APP_API_BASE=https://pickbd-ai.onrender.com
VITE_GEMINI_SERVICE_URL=https://gemini-api-wm3b.onrender.com
VITE_API_BASE_URL=https://pickbd-ai.onrender.com

# Service URLs
SCRAPER_SERVICE_URL=http://localhost:8000
PROCESSOR_SERVICE_URL=http://localhost:8001
SYNC_SERVICE_URL=http://localhost:8002
TRIGGER_API_URL=http://localhost:5000
ALERTING_SERVICE_URL=http://localhost:8004
LOGGING_SERVICE_URL=http://localhost:8003

# Airflow Configuration
AIRFLOW_UID=50000
AIRFLOW_ADMIN_USER=admin
AIRFLOW_ADMIN_PASSWORD=admin123
AIRFLOW_FERNET_KEY=YlCImzjge_TeZc7jPJ7Jz2pgOtb4yTssA1pVyqIADWg=

# Email Configuration (using existing Gmail config)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=epick162@gmail.com
SMTP_PASSWORD=vrjsdectaefjftvm
SMTP_FROM_EMAIL=epick162@gmail.com
SMTP_USE_TLS=true
ALERT_EMAIL_RECIPIENTS=epick162@gmail.com

# Email settings (existing)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=epick162@gmail.com
EMAIL_PASS=vrjsdectaefjftvm
EMAIL_FROM=epick162@gmail.com
EMAIL_USE_TLS=True

# Google OAuth (existing)
GOOGLE_CLIENT_ID=278415041899-18f5f9v6e7u49mfopetbcn38hlt6nv4s.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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
GOOGLE_REDIRECT_URI=https://pickbd.vercel.app/auth/google

# Slack Configuration (optional - set up if you want Slack notifications)
SLACK_WEBHOOK_URL=
SLACK_ALERT_CHANNEL=#alerts
SLACK_BOT_USERNAME=Pipeline Alert Bot
SLACK_BOT_EMOJI=:warning:

# Webhook Configuration (optional)
WEBHOOK_ALERT_URL=
WEBHOOK_AUTH_TYPE=bearer
WEBHOOK_AUTH_TOKEN=

# SMS Configuration (optional - Twilio)
SMS_SERVICE=twilio
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=
SMS_ALERT_NUMBERS=

# Monitoring Configuration
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin123

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_RETENTION_DAYS=30
MAX_LOG_SIZE_MB=100

# Pipeline Configuration
SCRAPER_RATE_LIMIT=1.0
SCRAPER_CONCURRENT_REQUESTS=5
PROCESSOR_BATCH_SIZE=1000
SYNC_BATCH_SIZE=500

# Alert Configuration
ALERT_DEDUPLICATION_WINDOW=5
ALERT_ESCALATION_INTERVAL=30
ALERT_MAX_ESCALATION_LEVEL=3
ALERT_AUTO_RESOLVE_MINUTES=60

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=7
BACKUP_SCHEDULE="0 2 * * *"

# Feature Flags
CONTEXTUAL_API_ENABLED=true